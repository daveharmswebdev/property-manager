# Story 8.5.3: Logo and Favicon Implementation

Status: review

## Story

As a user,
I want to see the Upkeep logo and favicon,
so that the application has a distinctive brand identity.

## Acceptance Criteria

1. **Given** I view the browser tab, **When** the page loads, **Then** I see the Upkeep favicon (gradient background with white house icon)

2. **Given** I view the sidebar on desktop, **When** expanded, **Then** I see the Upkeep logo lockup (icon + "upkeep" wordmark) - **ALREADY DONE in 8.5-2**

3. **Given** I view the app on mobile (tablet/mobile headers), **When** in compact view, **Then** I see just the "Upkeep" text (or icon-only version of the logo)

4. **Given** I view the login/landing page, **When** on a light background, **Then** I see the gradient outline version of the logo above the sign-in card

5. **Given** I view the page title in the browser tab, **When** the page loads, **Then** I see "Upkeep" as the title (not "PropertyManager")

## Tasks / Subtasks

- [x] Task 1: Generate favicon files from source SVG (AC: #1)
  - [x] 1.1 Use realfavicongenerator.net to upload `frontend/src/assets/brand/favicon.svg`
  - [x] 1.2 Download generated favicon package
  - [x] 1.3 Place files in `frontend/public/`: favicon.ico, favicon.svg, favicon-96x96.png, apple-touch-icon.png, web-app-manifest-*.png, site.webmanifest

- [x] Task 2: Update index.html with new favicon links and title (AC: #1, #5)
  - [x] 2.1 Update `<title>` from "PropertyManager" to "Upkeep"
  - [x] 2.2 Replace single favicon.ico link with proper multi-format favicon setup
  - [x] 2.3 Add apple-touch-icon link
  - [x] 2.4 Add web manifest link

- [x] Task 3: Add logo to login page (AC: #4)
  - [x] 3.1 Add gradient logo lockup above the sign-in card in login.component.html
  - [x] 3.2 Update login.component.scss with logo styling
  - [x] 3.3 Update subtitle from "Welcome back to Property Manager" to "Welcome back"

- [x] Task 4: Add logo to other auth pages (AC: #4)
  - [x] 4.1 Update forgot-password.component.html with logo
  - [x] 4.2 Update reset-password.component.html with logo
  - [x] 4.3 Update accept-invitation.component.html with logo

- [x] Task 5: Update mobile header with icon-only logo (AC: #3)
  - [x] 5.1 In shell.component.html, replace "Upkeep" text in mobile-header with icon-only logo
  - [x] 5.2 In shell.component.html, replace "Upkeep" text in tablet-header with icon-only logo
  - [x] 5.3 Add appropriate sizing/styling for header logo

- [x] Task 6: Visual verification (AC: #1-5)
  - [x] 6.1 Verify favicon appears in browser tab (test multiple browsers if possible)
  - [x] 6.2 Verify page title shows "Upkeep"
  - [x] 6.3 Verify login page shows gradient logo on light background
  - [x] 6.4 Verify mobile/tablet headers show appropriate logo
  - [x] 6.5 Run existing tests: `npm test`

## Dev Notes

### Critical Architecture Constraints

- **Framework:** Angular 20 with Angular Material 20.x [Source: architecture.md]
- **Build System:** Angular CLI with `frontend/public/` for static assets [Source: angular.json]
- **Styling:** SCSS with CSS custom properties [Source: styles.scss]
- **Testing:** Vitest for unit/component tests [Source: architecture.md]

### Current State Analysis

**File:** `frontend/src/index.html` (17 lines)

Current state:
```html
<title>PropertyManager</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
```

Needs to become:
```html
<title>Upkeep</title>
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">
```

**File:** `frontend/public/` (current contents)

Only contains: `favicon.ico` (old default)

Needs to contain after Task 1:
- `favicon.ico` (multi-size)
- `favicon.svg` (modern browsers)
- `favicon-16x16.png`
- `favicon-32x32.png`
- `apple-touch-icon.png` (180x180)
- `android-chrome-192x192.png`
- `android-chrome-512x512.png`
- `site.webmanifest`

**File:** `frontend/src/app/features/auth/login/login.component.html`

Current structure:
```html
<div class="login-container">
  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title>Sign In</mat-card-title>
      <mat-card-subtitle>Welcome back to Property Manager</mat-card-subtitle>
    </mat-card-header>
    ...
  </mat-card>
</div>
```

Needs logo added above card:
```html
<div class="login-container">
  <div class="brand-logo">
    <img src="assets/brand/logo-lockup-horizontal-gradient.svg" alt="Upkeep" class="login-logo">
  </div>
  <mat-card class="login-card">
    ...
    <mat-card-subtitle>Welcome back</mat-card-subtitle>
    ...
  </mat-card>
</div>
```

**File:** `frontend/src/app/core/components/shell/shell.component.html`

Mobile/tablet headers currently have text "Upkeep" (updated in 8.5-2). Need to replace with icon-only logo:
- Line 29 (tablet-header): `<span class="header-title">Upkeep</span>`
- Line 53 (mobile-header): `<span class="header-title">Upkeep</span>`

Replace with:
```html
<img src="assets/brand/logo-icon-only-white.svg" alt="Upkeep" class="header-logo">
```

### Brand Assets Available

Located in `frontend/src/assets/brand/`:

| File | Purpose | Use In This Story |
|------|---------|-------------------|
| `favicon.svg` | Source for favicon generation | Upload to realfavicongenerator.net |
| `logo-lockup-horizontal-gradient.svg` | Logo + wordmark for light backgrounds | Login page |
| `logo-icon-only-white.svg` | Compact icon for dark backgrounds | Mobile/tablet headers |
| `logo-lockup-horizontal-white.svg` | Logo + wordmark for dark backgrounds | Already used in sidebar (8.5-2) |

### Favicon Generation Instructions

1. Go to https://realfavicongenerator.net
2. Upload `frontend/src/assets/brand/favicon.svg`
3. Configure settings:
   - iOS: Use default settings (will create 180x180 apple-touch-icon)
   - Android: Use default settings
   - Windows Metro: Can skip (optional)
   - Favicon Generator Options: Select "assets" folder path as root
4. Generate and download package
5. Extract to `frontend/public/`
6. Copy the HTML tags provided and adapt for Angular

[Source: ux-design-refresh-2026.md#62-favicon-generation]

### Previous Story Intelligence (8.5-2)

**Key learnings from sidebar styling:**
- Logo SVG files load correctly from `assets/brand/` path
- angular.json already configured to serve assets from `src/assets` to `/assets` output
- All 928 tests passing after 8.5-2 changes
- Logo sizing: height: 32px with auto width works well

**Files modified in 8.5.2:**
- `frontend/src/styles.scss` - CSS variables
- `frontend/src/app/core/components/sidebar-nav/sidebar-nav.component.html` - Logo added
- `frontend/src/app/core/components/sidebar-nav/sidebar-nav.component.scss` - Logo styling
- `frontend/src/app/core/components/shell/shell.component.html` - Header title updated to "Upkeep"
- `frontend/angular.json` - Assets configuration (already includes `src/assets`)

[Source: 8.5-2-sidebar-styling-update.md]

### Git Intelligence

Recent commits related to UX refresh:
- `4db1116` - docs: mark story 8.5-2-sidebar-styling-update as done
- `cab9097` - feat(ui): update sidebar styling with Upkeep brand (#8.5-2)
- `4ad9239` - feat(theme): migrate Angular Material to Upkeep color palette (#8.5-1)
- `46c8612` - fix(receipts): Receipt lightbox modal too narrow (8.5-4)

### Color Palette Reference

For gradient logo on light backgrounds:
```css
/* Brand gradient (used in logo-lockup-horizontal-gradient.svg) */
background: linear-gradient(135deg, #4361ee 0%, #7c3aed 100%);
```

[Source: ux-design-refresh-2026.md#27-gradients]

### Project Structure Notes

**Files to modify:**
```
frontend/
├── public/
│   ├── favicon.ico          # REPLACE (generate new)
│   ├── favicon.svg          # ADD
│   ├── favicon-16x16.png    # ADD
│   ├── favicon-32x32.png    # ADD
│   ├── apple-touch-icon.png # ADD
│   ├── android-chrome-*.png # ADD
│   └── site.webmanifest     # ADD
├── src/
│   ├── index.html           # UPDATE (title, favicon links)
│   └── app/
│       ├── core/
│       │   └── components/
│       │       └── shell/
│       │           ├── shell.component.html  # UPDATE (mobile/tablet headers)
│       │           └── shell.component.scss  # UPDATE (header logo styling)
│       └── features/
│           └── auth/
│               ├── login/
│               │   ├── login.component.html  # UPDATE (add logo)
│               │   └── login.component.scss  # UPDATE (logo styling)
│               ├── forgot-password/
│               │   └── forgot-password.component.html  # UPDATE (add logo)
│               ├── reset-password/
│               │   └── reset-password.component.html   # UPDATE (add logo)
│               └── accept-invitation/
│                   └── accept-invitation.component.html # UPDATE (add logo)
```

**Files NOT touched in this story:**
- Brand SVG source files (already exist)
- Sidebar component (logo already added in 8.5-2)
- Theme colors (done in 8.5-1)
- angular.json (already configured for assets)

### Testing Requirements

- **Visual verification:**
  - Favicon appears in browser tab
  - Page title is "Upkeep"
  - Login page shows gradient logo centered above card
  - Mobile/tablet headers show icon-only logo

- **Cross-browser testing (if available):**
  - Chrome: favicon.svg should load
  - Safari: apple-touch-icon should be available
  - Firefox: favicon.ico or svg should load

- **Run existing tests:** `npm test` should pass (no functional changes)

### Out of Scope

- Sidebar logo (already done in 8.5-2)
- PWA full support (web manifest is for favicon only)
- Dark mode logo variants (not in current scope)
- Collapsed sidebar state (app doesn't have collapsible sidebar)

### References

- [Source: ux-design-refresh-2026.md#4-logo-system] - Logo specifications and usage rules
- [Source: ux-design-refresh-2026.md#62-favicon-generation] - Favicon generation steps
- [Source: ux-design-refresh-2026.md#6-implementation-guide] - Implementation steps
- [Source: assets/brand/README.md] - Brand guidelines and file descriptions
- [Source: epic-8.5-ux-design-refresh.md#story-853] - Story acceptance criteria
- [Source: 8.5-2-sidebar-styling-update.md] - Previous story learnings

### Definition of Done

- [x] Favicon displays in browser tab (gradient background with white house icon)
- [x] Page title is "Upkeep"
- [x] Login page shows gradient logo above sign-in card
- [x] Other auth pages (forgot-password, reset-password, accept-invitation) show logo
- [x] Mobile/tablet headers show icon-only logo
- [x] Apple touch icon works for iOS
- [x] Existing tests pass (`npm test`) - All 928 tests passing
- [x] No console errors

## Dev Agent Record

### Agent Model Used

Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References

None - implementation proceeded without issues.

### Completion Notes List

- **Task 1:** User generated favicon files using realfavicongenerator.net and placed in `frontend/public/`. Files include: favicon.ico, favicon.svg, favicon-96x96.png, apple-touch-icon.png, web-app-manifest-192x192.png, web-app-manifest-512x512.png, site.webmanifest
- **Task 2:** Updated index.html with title "Upkeep" and proper multi-format favicon links (SVG, PNG, ICO, apple-touch-icon, manifest)
- **Task 3:** Added gradient logo lockup to login page above sign-in card, updated subtitle to "Welcome back", added flex-direction column styling
- **Task 4:** Added gradient logo to forgot-password, reset-password, and accept-invitation pages with consistent styling. Also updated accept-invitation text from "Property Manager" to "Upkeep"
- **Task 5:** Replaced text "Upkeep" in mobile and tablet headers with icon-only white logo (logo-icon-only-white.svg), updated SCSS with .header-logo class (32px height)
- **Task 6:** Visual verification completed via Playwright MCP - all acceptance criteria verified. All 928 unit tests passing.

### File List

**Added:**
- `frontend/public/favicon.svg`
- `frontend/public/favicon-96x96.png`
- `frontend/public/apple-touch-icon.png`
- `frontend/public/web-app-manifest-192x192.png`
- `frontend/public/web-app-manifest-512x512.png`
- `frontend/public/site.webmanifest`

**Modified:**
- `frontend/public/favicon.ico` (replaced with new generated version)
- `frontend/src/index.html` (title, favicon links)
- `frontend/src/app/features/auth/login/login.component.html` (logo, subtitle)
- `frontend/src/app/features/auth/login/login.component.scss` (logo styling)
- `frontend/src/app/features/auth/forgot-password/forgot-password.component.html` (logo)
- `frontend/src/app/features/auth/forgot-password/forgot-password.component.scss` (logo styling)
- `frontend/src/app/features/auth/reset-password/reset-password.component.html` (logo)
- `frontend/src/app/features/auth/reset-password/reset-password.component.scss` (logo styling)
- `frontend/src/app/features/auth/accept-invitation/accept-invitation.component.html` (logo, text update)
- `frontend/src/app/features/auth/accept-invitation/accept-invitation.component.scss` (logo styling)
- `frontend/src/app/core/components/shell/shell.component.html` (header logos)
- `frontend/src/app/core/components/shell/shell.component.scss` (header logo styling)

## Change Log

| Date | Change | Author |
|------|--------|--------|
| 2026-01-18 | Story created with comprehensive context | Bob (SM Agent) |
| 2026-01-18 | Implementation complete - favicon, title, logos on auth pages and mobile headers | Amelia (Dev Agent) |
