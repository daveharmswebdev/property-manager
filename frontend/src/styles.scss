// Property Manager Custom Theme - Upkeep Color Palette
// Based on UX Design Specification Section 3.1 Color System
// https://material.angular.dev/guide/theming

@use '@angular/material' as mat;
@use './styles/theme-colors' as theme;

// Apply M3 theme with Upkeep Blue as primary and Upkeep Teal as tertiary
html {
  @include mat.theme((
    color: (
      primary: theme.$primary-palette,
      tertiary: theme.$tertiary-palette,
    ),
    // Inter font per Upkeep design system
    typography: (
      plain-family: ('Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif),
      brand-family: ('Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif),
    ),
    density: 0,
  ));
}

// Custom CSS variables for app-specific theming
:root {
  // Primary colors (Upkeep Blue)
  --pm-primary: #4361ee;
  --pm-primary-dark: #2e4edc;
  --pm-primary-light: #bac3ff;

  // Accent/Tertiary color (Upkeep Teal)
  --pm-accent: #0d9488;

  // Secondary color (Upkeep Violet)
  --pm-secondary: #7c3aed;

  // Background colors
  --pm-background: #f8fafc;
  --pm-surface: #FFFFFF;

  // Text colors
  --pm-text-primary: #1e293b;
  --pm-text-secondary: #64748b;

  // Sidebar (deep indigo theme per Upkeep brand)
  --pm-sidebar-bg: #1e2340;
  --pm-sidebar-text: #e2e8f0;
  --pm-sidebar-hover: rgba(255, 255, 255, 0.08);
  --pm-sidebar-active-bg: rgba(67, 97, 238, 0.15);
  --pm-sidebar-active-border: #4361ee;

  // Softer elevation shadows (friendly feel per UX spec)
  --pm-shadow-1: 0 1px 3px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.06);
  --pm-shadow-2: 0 2px 6px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06);
  --pm-shadow-3: 0 4px 12px rgba(0, 0, 0, 0.10), 0 2px 4px rgba(0, 0, 0, 0.06);

  // Breakpoints (for reference in JS - CSS uses media queries)
  --pm-breakpoint-mobile: 768px;
  --pm-breakpoint-desktop: 1024px;

  // Navigation dimensions
  --pm-sidebar-width: 240px;
  --pm-bottom-nav-height: 56px;
}

body {
  // Light color scheme
  color-scheme: light;

  // Use off-white background per UX spec
  background-color: var(--pm-background);
  color: var(--pm-text-primary);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

  // Reset margin
  margin: 0;
}

html, body {
  height: 100%;
  margin: 0;
}

// Global link styling with Upkeep Blue
a {
  color: var(--pm-primary);
  text-decoration: none;

  &:hover {
    color: var(--pm-primary-dark);
    text-decoration: underline;
  }
}

// Override Angular Material elevation for softer shadows
.mat-elevation-z1 { box-shadow: var(--pm-shadow-1) !important; }
.mat-elevation-z2, .mat-elevation-z3, .mat-elevation-z4 { box-shadow: var(--pm-shadow-2) !important; }
.mat-elevation-z5, .mat-elevation-z6, .mat-elevation-z7, .mat-elevation-z8 { box-shadow: var(--pm-shadow-3) !important; }

// Confirmation dialog panel - remove default Material padding so component controls it
.confirm-dialog-panel {
  .mat-mdc-dialog-container {
    .mdc-dialog__surface {
      padding: 0;
      overflow: hidden;
    }
  }
}

// Year selector dropdown panel - ensure full year is visible
.year-selector-panel {
  min-width: 100px !important;

  .mat-mdc-option {
    min-width: 90px;

    .mdc-list-item__primary-text {
      overflow: visible !important;
      text-overflow: clip !important;
    }

    // Hide checkmark - green highlight is sufficient indicator
    .mat-pseudo-checkbox {
      display: none !important;
    }
  }
}

// Receipt lightbox panel - large modal
.receipt-lightbox-panel {
  .mat-mdc-dialog-container {
    .mdc-dialog__surface {
      padding: 0;
    }
  }
}
